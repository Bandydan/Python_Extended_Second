# Урок 3. Циклы For и While, работа с файлами

## Операторы цикла

Когда у программиста возникает необходимость повторить какое-то действие несколько раз, он пишет цикл.

В python cуществуют операторы цикла while и for.

В большинстве случаев операторы цикла взаимозаменяемы, но у каждого из них есть некоторые нюансы.

## Цикл while

Простейший оператор цикла while выглядит так:
**`while условие: действие`**
или
**`while условие: блок действий в несколько строк`**

Суть работы цикла: Проверяется условие в цикле, если оно выполняется (т.е. **True**), тело цикла выполняется. Затем опять проверяется условие цикла, если true - выполняется тело, и так до тех пор, пока не перестанет выполняться условие цикла.

```python
i = res = 0
while i < 11:
    res += i
    i += 1
print(res)
```

## Вечный (бесконечный) цикл


![](http://risovach.ru/upload/2015/02/mem/fon_73228276_orig_.jpg)
В программировании довольно часто используются вечные циклы. Просто есть ситуации, когда нет явного ограничения, и условие трудно проверить заранее. Для того, чтобы выйти из вечного цикла, и вообще из цикла, используется оператор break. Он работает внутри цикла и прекращает его выполнение. Далее проиллюстрирована работа оператора `break` оператора `continue`, который прекращает текущую итерацию и начинает следующую:

```python
i = 10
while True:
    i -= 1
    if not i: continue
    if i%2:
        print(i)
    if i < -10: break
```

## Оператор цикла for

То же суммирование первых 10 элементов, что и с помощью цикла while, но при помощи for:

```python
sum = 0
for i in range(1, 11):
    sum += i
print (sum)
```

Это один из вариантов использования цикла for: для того, чтобы выполнить действия заданное количество раз. Другой вариант - работа цикла for со списками и другими итерируемыми типами данных, мы рассмотрим на примере файла.


>>> c = {1: 'a', 2: 'b', 3: 'c'}
>>> for i in enumerate(c):
...     print(i)
... 
(0, 1)
(1, 2)
(2, 3)


Функция enumerate() используется для упрощения прохода по коллекциям в цикле, когда кроме самих элементов требуется их индекс:

>>> a = [10, 20, 30, 40]
>>> for id, item in enumerate(a):
...     a[id] = item + 5
... 
>>> a
[15, 25, 35, 45]



## Базовая работа с файлами

Для работы с файлами вам потребуются следующие функции:

* open
* write
* read
* close

Примеры:

```python
import sys
filename = sys.argv[1]
# далее открываем файл на чтение (опция 'r')
f = open(filename, 'r') # в файле теперь file descriptor
for line in f: # для каждой строки в файле
	print(line)
f.close() # закрытие файла
```

Здесь надо обратить внимание на следующие строки:
**`import sys`** - включение в нашу программу библиотеки системных функций, с помощью которой мы можем работать с параметрами командной строки, к примеру.
**`filename = sys.argv[1]`, где sys.argv** - функция системной библиотеки sys. Она считывает 1-й параметр из списка параметров командной строки.

Если мы осуществим вызов файла нашей программы prog.py в консоли, и передадим ей файл вот так:

```bash
C:\python3\python.exe prog.py testfile.txt
```

то python считает нулевым параметром имя нашей программы (prog.py), первым = имя переданного файла (testfile.txt), вторым - следующий параметр, если он есть, и так далее.

Таким образом мы передали программе файл, прочитали его построчно и вывели. На данный момент пока по работе с файлами этого достаточно.


## Ссылки

[Итераторы и Генераторы](https://shepetko.com/ru/blog/python-iterable-iterators-generators)

[Работа с файлами](https://pythonworld.ru/tipy-dannyx-v-python/fajly-rabota-s-fajlami.html)

[Домашка](hw03.md)

[Следующий урок](lesson04.py)
